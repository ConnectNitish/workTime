<head>
  <script type="text/javascript" src="js/jquery.js"></script>
  <script type="text/javascript" src="js/bootstrap.js"></script>
  <script type="text/javascript" src="js/highlight.min.js"></script>
  <script type="text/javascript" src="js/html5shiv.js"></script>
  <script type="text/javascript" src="js/respond.min.js"></script>
  <script type="text/javascript" src="js/clockpicker.js"></script>
  <script type="text/javascript" src="js/jquery-clockpicker.js"></script>
  <script type="text/javascript" src="js/flipclock.js"></script>
  <script type="text/javascript" src="js/cookie.js"></script>
  
  <link rel="stylesheet" type="text/css" href="css/standalone.css">
  <link rel="stylesheet" type="text/css" href="css/clockpicker.css">
  <link rel="stylesheet" type="text/css" href="css/jquery-clockpicker.css">
  <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
  <link rel="stylesheet" type="text/css" href="css/bootstrap-theme.css">
  <link rel="stylesheet" type="text/css" href="css/flipclock.css">

  <!-- Worktime -->
  <script type="text/javascript" src="js/worktime.js"></script>
  <link rel="stylesheet" type="text/css" href="css/worktime.css">
  <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon"/>

  <link href='https://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'>

  <title>WorkTime</title>
</head>

<body onload="firstUpdate();">

  <div class="ribbon"><span>BETA</span></div>
  
  <div class="header middle">
    <span class="workTimeText">WorkTime</span>
  </div>

  <section class="middle">

    <div class="input-group input-margin" id="debugContainer">
      <div class="checkbox" id="debugCheckboxDiv">
	<input type="checkbox" id="debugCheckbox"
	       onchange="updateEndTime();">
      </div>

      <div class="input-group clockpicker input-margin" id="debugTimeDiv">
	<input id="debugTime" type="text" class="form-control" value="08:00"
	       onchange="updateEndTime();"
	       onKeyDown="if(event.keyCode==13) updateEndTime();">
	<span class="input-group-addon">
          <span class="glyphicon glyphicon-time"></span>
	</span>
      </div>
    </div>

    <div class="input-group clockpicker input-margin">
      <input id="startTime" type="text" class="form-control" value="08:00"
	     onchange="updateEndTime();"
	     onKeyDown="if(event.keyCode==13) updateEndTime();">
      <span class="input-group-addon">
        <span class="glyphicon glyphicon-time"></span>
      </span>
    </div>

    <div class="input-group input-margin">
      <span class="input-group-addon">Work</span>
      <input id="workHours" type="text" class="form-control"
	     value="8" onkeypress='return event.charCode >= 48 &&
      event.charCode <= 57'
			onchange="updateEndTime();"
			onKeyDown="if(event.keyCode==13) updateEndTime();">
	<span class="input-group-addon">h</span>
    </div>

    <div class="input-group input-margin">
      <span class="input-group-addon">Lunch</span>
      <input id="lunchMinutes" type="text" class="form-control"
	     value="30" onkeypress='return event.charCode >= 48 &&
      event.charCode <= 57'
			onchange="updateEndTime();"
			onKeyDown="if(event.keyCode==13) updateEndTime();">
	<span class="input-group-addon">min</span>
    </div>

    <div class="input-group input-margin">
      <input id="endTime" type="text" class="form-control" value="00:00"
	     readonly>
      <span class="input-group-addon">
        <span class="glyphicon glyphicon-time"></span>
      </span>
    </div>

    <button
      title="Show remaining work time/overtime"
      id="collapseButton"
      class="btn btn-info middle input-margin
	     glyphicon glyphicon-plus-sign" data-toggle="collapse"
       data-target="#collapsable"
       >
    </button>
  </section>

  <div id="collapsable" class="middle collapse">
    <div class="clock middle"></div>

    <div id="overtime" class="middle hidden">
      <span>Overtime</span>
    </div>
  </div>

  <div id="cookiesConfirmation" class="middle hidden">
    <button
       id="closeCookieButton"
       class="btn btn-default glyphicon glyphicon-remove-circle"
       onClick="refuseCookies()"
       >
    </button>
    <span>This page uses cookies to remember user changes.</span> </br></br>
    <button class="btn btn-success" onClick="allowCookies()">I accept cookies</button>
    <button class="btn btn-danger" onClick="refuseCookies()">I refuse cookies</butto>
  </div>
</body>

<script>
  $(".clockpicker").clockpicker();

  $( "#startTime" ).clockpicker({
  autoclose: true,
  afterDone: function() {
  updateEndTime();
  }
  });

  $( "#collapsable" ).on("shown.bs.collapse", function () {
  var active = $(this).attr("id");

  if (Cookies.get("allowCookies")) {
  Cookies.set("collapse", "1");
  }
  });

  $( "#collapsable").on("hidden.bs.collapse", function () {
  var active = $(this).attr("id");

  if (Cookies.get("allowCookies")) {
  Cookies.remove("collapse");
  }

  });
</script>
